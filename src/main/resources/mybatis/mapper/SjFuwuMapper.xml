<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhiliao.hotel.mapper.SjFuwuMapper">
    <resultMap id="BaseResultMap" type="com.zhiliao.hotel.model.SjFuwu">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sat Apr 11 11:34:06 SGT 2020.
        -->
        <result column="ID" jdbcType="INTEGER" property="id"/>
        <result column="ParentID" jdbcType="INTEGER" property="parentid"/>
        <result column="AddName" jdbcType="CHAR" property="addname"/>
        <result column="AddNameID" jdbcType="SMALLINT" property="addnameid"/>
        <result column="AddTime" jdbcType="INTEGER" property="addtime"/>
        <result column="AddIP" jdbcType="INTEGER" property="addip"/>
        <result column="EidtName" jdbcType="CHAR" property="eidtname"/>
        <result column="EidtTime" jdbcType="INTEGER" property="eidttime"/>
        <result column="EidtIP" jdbcType="INTEGER" property="eidtip"/>
        <result column="ViewCount" jdbcType="INTEGER" property="viewcount"/>
        <result column="SongDaDays" jdbcType="INTEGER" property="songdadays"/>
        <result column="Count" jdbcType="INTEGER" property="count"/>
        <result column="Sales" jdbcType="INTEGER" property="sales"/>
        <result column="Descs" jdbcType="INTEGER" property="descs"/>
        <result column="JiuDianID" jdbcType="INTEGER" property="jiudianid"/>
        <result column="Name" jdbcType="CHAR" property="name"/>
        <result column="Title" jdbcType="CHAR" property="title"/>
        <result column="UserID" jdbcType="INTEGER" property="userid"/>
        <result column="Use" jdbcType="CHAR" property="use"/>
        <result column="Url" jdbcType="VARCHAR" property="url"/>
        <result column="Price" jdbcType="REAL" property="price"/>
        <result column="EndPrice" jdbcType="REAL" property="endprice"/>
        <result column="JiFen" jdbcType="INTEGER" property="jifen"/>
        <result column="FenRun" jdbcType="REAL" property="fenrun"/>
        <result column="FenRun2" jdbcType="REAL" property="fenrun2"/>
        <result column="OldPrice" jdbcType="REAL" property="oldprice"/>
        <result column="ShiChangPrice" jdbcType="REAL" property="shichangprice"/>
        <result column="PingTaiPrice" jdbcType="REAL" property="pingtaiprice"/>
        <result column="FirstNum" jdbcType="TINYINT" property="firstnum"/>
        <result column="FirstFreight" jdbcType="REAL" property="firstfreight"/>
        <result column="PerNum" jdbcType="TINYINT" property="pernum"/>
        <result column="PerFreight" jdbcType="REAL" property="perfreight"/>
        <result column="Param" jdbcType="VARCHAR" property="param"/>
        <result column="ShowHome" jdbcType="TINYINT" property="showhome"/>
        <result column="ShowFlag" jdbcType="TINYINT" property="showflag"/>
        <result column="ShowJingXuan" jdbcType="TINYINT" property="showjingxuan"/>
        <result column="ShowChuXiao" jdbcType="TINYINT" property="showchuxiao"/>
        <result column="ShowHot" jdbcType="TINYINT" property="showhot"/>
        <result column="Book" jdbcType="TINYINT" property="book"/>
        <result column="version" jdbcType="TINYINT" property="version"/>
    </resultMap>

    <select id="findFuwuList" resultType="com.zhiliao.hotel.controller.fuwu.vo.FuwuListVo">
        select
	        f.ID id,
	        f.`Name` `name`,
	        f.Price price,
	        f.ShiChangPrice shi_chang_price,
	        f.PingTaiPrice ping_tai_price,
	        f.Url url,
	        f.Count `count`,
	        f.Sales sales,
	        fp.Title title
        from sj_fuwu f
        left join sj_fuwuparent fp on f.ParentID=fp.ID
        where fp.ShowFlag=1 and f.ShowFlag=1 and f.JiuDianID=#{jiuDianId}
        order by fp.Title desc,f.`Name` desc
    </select>

    <select id="findFuwuDetail" resultType="com.zhiliao.hotel.controller.fuwu.vo.FuwuListVo">
        select
	        f.ID id,
	        f.`Name` `name`,
	        f.Price price,
	        f.ShiChangPrice shi_chang_price,
	        f.PingTaiPrice ping_tai_price,
	        f.Url url,
	        f.Count `count`,
	        f.Sales sales
        from sj_fuwu f
        where f.ID=#{fuwuId}
    </select>
</mapper>